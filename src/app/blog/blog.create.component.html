<nav-bar></nav-bar>

<intro-header [backgroundImgUrl]="backgroundImgUrl" [headerMessage]="headerMessage" [subheaderMessage]="subheaderMessage">
</intro-header>

<div class="container">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <p *ngIf="errorMessage" class="alert alert-danger"> {{ errorMessage }} </p>
      <form (ngSubmit)="onSubmit()" #newPostForm="ngForm" novalidate> 

        <div class="row control-group">
            <div class="form-group col-xs-12 floating-label-form-group controls">
                <label>Title</label>
          <input class="form-control" id="title" placeholder="Title" 
                  required name="title" [(ngModel)]="newPost.Title" 
                  #title="ngModel" maxlength="100" >
            </div>
            <div [hidden]="title.valid || title.pristine" class="alert alert-danger">
                    Title required
            </div>
        </div>

        <div class="row control-group">
            <div class="form-group col-xs-12 floating-label-form-group controls">
                <label>Tags</label>
          <input class="form-control" id="tags" placeholder="Tags" name="tags" [(ngModel)]="newPost.Tags" 
                  #tags="ngModel" pattern="[^%#!$&*()+/|`~=?'\<>]{1,50}" >
            </div>
        </div>

        <div class="row control-group">
            <div class="form-group col-xs-12 floating-label-form-group controls">
                <label>Body</label>
          <textarea style="height: 500px;" [(ngModel)]="newPost.Body" rows="5" class="form-control" placeholder="Body" 
                        id="body" #body="ngModel" required name="body" maxlength="2000"></textarea>
                        <p class="help-block text-danger"></p>
            </div>
            <div [hidden]="body.valid || body.pristine" class="alert alert-danger">
                    Body required
            </div>
        </div>
        <br>
        <div class="row">
          <div class="form-group col-xs-12">
            <button type="submit" class="btn btn-default" [disabled]="!newPostForm.form.valid">Publish</button>
          </div>
        </div>
      </form>
  </div>
  </div>
</div>

<footer-section></footer-section>